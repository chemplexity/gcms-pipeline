% Export NIST (preliminary function)

% function to save a peak as a NIST formatted data structure

% input will be sample info, peaks mass spectra (intensity(row, :)), and
% channel (1,:)

% function takes three inputs, 1: sample row, 2: peak mz array, 3: peak
% intensity array

function nistData = ExportNIST(data, sampleRow, retentionTimes)

% ---------------------------------------
% Data
% ---------------------------------------
nistData = struct(...
    'file_path',                [],...
    'file_name',                [],...
    'file_size',                [],...
    'compound_name',            [],...
    'compound_synonym',         {},...
    'compound_formula',         [],...
    'compound_mw',              [],...
    'compound_exact_mass',      [],...
    'compound_retention_time',  [],...
    'compound_retention_index', [],...
    'cas_id',                   [],...
    'nist_id',                  [],...
    'db_id',                    [],...
    'smiles',                   [],...
    'inchikey',                 [],...
    'ion_mode',                 [],...
    'collision_energy',         [],...
    'comments',                 [],...
    'num_peaks',                [],...
    'mz',                       [],...
    'intensity',                []);

channelData = data.channel(1, :);
peakMassSpectra = data.intensity(sampleRow, :);

nistData(1).mz = channelData;
nistData(1).intensity = peakMassSpectra;
nistData(1).compound_retention_time = dataRow.time(sampleRow, 1);
nistData(1).file_path = data.file_path;
nistData(1).file_name = data.file_name;
nistData(1).file_size = data.file_size;